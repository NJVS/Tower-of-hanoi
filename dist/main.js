(()=>{"use strict";var n={756:(n,e,t)=>{t.d(e,{Z:()=>a});var o=t(213),r=t.n(o),i=t(645),s=t.n(i)()(r());s.push([n.id,'/* Box sizing rules */\n*,\n*::before,\n*::after {\n  box-sizing: border-box;\n}\n\n/* Remove default padding */\nul[class],\nol[class] {\n  padding: 0;\n}\n\n/* Remove default margin */\nbody,\nh1,\nh2,\nh3,\nh4,\np,\nul[class],\nol[class],\nli,\nfigure,\nfigcaption,\nblockquote,\ndl,\ndd {\n  margin: 0;\n}\n\n/* Set core body defaults */\nbody {\n  width: 100%;\n  height: auto;\n  scroll-behavior: smooth;\n  text-rendering: optimizeSpeed;\n  line-height: 1.5;\n  position: relative;\n}\n\n/* Remove list styles on ul, ol elements with a class attribute */\nul[class],\nol[class] {\n  list-style: none;\n}\n\n/* A elements that don\'t have a class get default styles */\na:not([class]) {\n  text-decoration-skip-ink: auto;\n}\n\n/* Make images easier to work with */\nimg {\n  max-width: 100%;\n  display: block;\n}\n\n/* Inherit fonts for inputs and buttons */\ninput,\nbutton,\ntextarea,\nselect {\n  font: inherit;\n}\n\n/* Remove all animations and transitions for people that prefer not to see them */\nheader {\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  width: min(550px, 85%);\n  margin-bottom: 4rem;\n  padding: 0.5rem 1.25rem;\n  border: 2px solid hsl(0deg, 0%, 75%);\n  border-radius: 5px;\n}\nheader h1 {\n  line-height: 1;\n  white-space: pre-line;\n}\nheader .moves {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  width: 100px;\n  aspect-ratio: 1/1;\n  background-color: hsl(0deg, 0%, 90%);\n  border-radius: 5px;\n  text-align: center;\n}\nheader .moves p {\n  color: hsl(0deg, 0%, 50%);\n  font-size: 0.6875rem;\n  text-transform: uppercase;\n  font-weight: 700;\n  line-height: 1;\n}\nheader .moves h2 {\n  color: hsl(0deg, 0%, 10%);\n  font-size: 3rem;\n  line-height: 1;\n}\nheader > .settings {\n  position: absolute;\n  bottom: -2px;\n  left: calc(100% + 0.375rem);\n  display: flex;\n  flex-direction: column;\n  gap: 0.25rem;\n  z-index: 99;\n}\nheader > .settings > button {\n  --c-fill: hsl(0, 0%, 60%);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0.375rem;\n  background-color: transparent;\n  border: 2px solid var(--c-fill);\n  border-radius: 5px;\n  transition: all 0.4s ease;\n  cursor: pointer;\n}\nheader > .settings > button > svg {\n  width: 15px;\n  height: 15px;\n  fill: var(--c-fill);\n  transition: all 0.4s ease;\n  pointer-events: none;\n}\nheader > .settings > button:hover {\n  --c-fill: hsl(0, 0%, 90%);\n}\nheader > .settings > button.active {\n  --c-fill: hsl(0, 0%, 90%);\n}\nheader > .settings > button.active ~ .opt {\n  opacity: 1;\n  visibility: visible;\n}\nheader > .settings .opt {\n  position: absolute;\n  top: calc(100% + 0.375rem);\n  right: 0;\n  width: max-content;\n  padding: 1.25rem 1rem;\n  background: radial-gradient(ellipse at top, hsl(214deg, 47%, 23%), hsl(237deg, 49%, 15%));\n  border: 2px solid hsl(0deg, 0%, 90%);\n  border-radius: 5px;\n  opacity: 0;\n  visibility: hidden;\n}\nheader > .settings .opt .opt_group {\n  display: flex;\n  align-items: center;\n  margin-bottom: 1.5rem;\n}\nheader > .settings .opt .opt_group:last-child {\n  gap: 0.25rem;\n  margin-bottom: 0;\n}\nheader > .settings .opt .opt_group:last-child > button {\n  flex-grow: 1;\n  padding: 0.25rem 0;\n  border-radius: 5px;\n  font-size: 0.875rem;\n  cursor: pointer;\n}\nheader > .settings .opt .opt_group:last-child > button:first-child {\n  border: none;\n  background-color: hsl(0deg, 0%, 90%);\n  color: hsl(0deg, 0%, 10%);\n}\nheader > .settings .opt .opt_group:last-child > button:last-child {\n  background-color: transparent;\n  border: 2px solid hsl(0deg, 0%, 90%);\n  color: hsl(0deg, 0%, 90%);\n}\nheader > .settings .opt .opt_group label {\n  margin-right: 0.5rem;\n}\nheader > .settings .opt input[type=checkbox] {\n  all: unset;\n  position: relative;\n  width: 2.5rem;\n  height: 1.1rem;\n  border: 2px solid hsl(0deg, 0%, 75%);\n  border-radius: 50vh;\n  cursor: pointer;\n}\nheader > .settings .opt input[type=checkbox]::after {\n  content: "";\n  position: absolute;\n  top: 50%;\n  left: 5%;\n  translate: 0 -50%;\n  height: 0.875rem;\n  aspect-ratio: 1/1;\n  border-radius: 50%;\n  background-color: hsl(0deg, 0%, 60%);\n  transition: all 0.4s ease;\n}\nheader > .settings .opt input[type=checkbox]:checked::after {\n  left: 90%;\n  translate: -100% -50%;\n  background-color: hsl(0deg, 0%, 90%);\n}\nheader > .settings .opt .input-group {\n  display: flex;\n  align-items: center;\n}\nheader > .settings .opt .input-group > * {\n  background: transparent;\n  border: 2px solid hsl(0deg, 0%, 90%);\n}\nheader > .settings .opt .input-group > *:is(input) {\n  border-left: none;\n  border-right: none;\n  color: hsl(0deg, 0%, 90%);\n  text-align: center;\n  appearance: none;\n  -moz-appearance: none;\n}\nheader > .settings .opt .input-group > *:is(input)::-webkit-inner-spin-button, header > .settings .opt .input-group > *:is(input)::-webkit-outer-spin-button {\n  appearance: none;\n  margin: 0;\n}\nheader > .settings .opt .input-group > *:is(button) {\n  cursor: pointer;\n}\nheader > .settings .opt .input-group > *:is(button) svg {\n  width: 0.675rem;\n  pointer-events: none;\n  fill: hsl(0deg, 0%, 75%);\n  pointer-events: none;\n}\nheader > .settings .opt .input-group > *:is(button):hover svg {\n  fill: hsl(0deg, 0%, 90%);\n}\nheader > .settings .opt .input-group > *:first-child {\n  border-radius: 5px 0 0 5px;\n}\nheader > .settings .opt .input-group > *:last-child {\n  border-radius: 0 5px 5px 0;\n}\n\n.game-board {\n  flex-grow: 1;\n  position: relative;\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  gap: 1rem;\n  width: 100%;\n  height: 100%;\n}\n.game-board .tower {\n  position: relative;\n  display: flex;\n  width: 250px;\n}\n.game-board .tower > *:not(.tower-inner) {\n  pointer-events: none;\n}\n.game-board .tower .base {\n  position: absolute;\n  bottom: 0;\n  width: 100%;\n  height: 50px;\n  background-color: hsl(0deg, 0%, 75%);\n  border-radius: 100%;\n  box-shadow: 0 3px 0 0 hsl(0deg, 0%, 50%), 0 6px 0 0 hsl(0deg, 0%, 50%), 0 9px 0 0 hsl(0deg, 0%, 50%), 0 12px 0 0 hsl(0deg, 0%, 50%), 0 15px 0 0 hsl(0deg, 0%, 50%), 0 18px 0 0 hsl(0deg, 0%, 50%), 0 21px 10px 5px hsl(0deg, 0%, 0%);\n}\n.game-board .tower .pole {\n  position: absolute;\n  bottom: 25px;\n  left: 50%;\n  translate: -50%;\n  width: 20px;\n  height: 250px;\n  background-color: hsl(0deg, 0%, 75%);\n  box-shadow: 0 2px 8px 0 hsla(0deg, 0%, 25%, 0.5);\n}\n.game-board .tower .pole::before {\n  content: "";\n  position: absolute;\n  top: 0;\n  translate: 0 -50%;\n  width: 100%;\n  height: 6px;\n  background-color: hsl(0deg, 0%, 65%);\n  border-radius: 100%;\n}\n.game-board .tower .pole::after {\n  content: "";\n  position: absolute;\n  bottom: 0;\n  translate: 0 50%;\n  width: 100%;\n  height: 6px;\n  background-color: hsl(0deg, 0%, 75%);\n  border-radius: 100%;\n}\n.game-board .tower-inner {\n  position: relative;\n  display: flex;\n  align-items: center;\n  flex-direction: column-reverse;\n  width: 100%;\n  z-index: 10;\n  cursor: pointer;\n}\n.game-board .tower-inner li {\n  position: absolute;\n  height: 40px;\n  border-radius: 100%;\n  pointer-events: none;\n  --flr-position: 20px;\n  --flr-width-decrement: 20px;\n}\n.game-board .tower-inner li::before {\n  content: "";\n  position: absolute;\n  bottom: 25px;\n  left: 50%;\n  translate: -50%;\n  width: 20px;\n  height: 16px;\n  background-color: hsl(0deg, 0%, 75%);\n  box-shadow: 0 8px 10px -3px hsla(0deg, 0%, 25%, 0.5);\n}\n.game-board .tower-inner li::after {\n  content: "";\n  position: absolute;\n  bottom: 25px;\n  left: 50%;\n  translate: -50% 50%;\n  width: 20px;\n  height: 8px;\n  background-color: hsl(0deg, 0%, 75%);\n  border-radius: 100%;\n}\n.game-board .tower-inner li:nth-child(1) {\n  bottom: calc(var(--flr-position) * 1);\n}\n.game-board .tower-inner li:nth-child(2) {\n  bottom: calc(var(--flr-position) * 2);\n}\n.game-board .tower-inner li:nth-child(3) {\n  bottom: calc(var(--flr-position) * 3);\n}\n.game-board .tower-inner li:nth-child(4) {\n  bottom: calc(var(--flr-position) * 4);\n}\n.game-board .tower-inner li:nth-child(5) {\n  bottom: calc(var(--flr-position) * 5);\n}\n.game-board .tower-inner li:nth-child(6) {\n  bottom: calc(var(--flr-position) * 6);\n}\n.game-board .tower-inner li:nth-child(7) {\n  bottom: calc(var(--flr-position) * 7);\n}\n.game-board .tower-inner li:nth-child(8) {\n  bottom: calc(var(--flr-position) * 8);\n}\n.game-board .tower-inner li[data-floor="1"] {\n  z-index: calc(10 + 1);\n  width: calc(250px - var(--flr-width-decrement) * 1);\n  background-color: hsl(0deg, 60%, 50%);\n  box-shadow: 0 3px 0 0 #8f2424, 0 6px 0 0 #8f2424, 0 9px 0 0 #8f2424, 0 12px 0 0 #8f2424, 0 15px 5px 0 hsla(0deg, 0%, 0%, 0.75);\n}\n.game-board .tower-inner li[data-floor="2"] {\n  z-index: calc(10 + 2);\n  width: calc(250px - var(--flr-width-decrement) * 2);\n  background-color: hsl(44deg, 83%, 56%);\n  box-shadow: 0 3px 0 0 #bf9112, 0 6px 0 0 #bf9112, 0 9px 0 0 #bf9112, 0 12px 0 0 #bf9112, 0 15px 5px 0 hsla(0deg, 0%, 0%, 0.75);\n}\n.game-board .tower-inner li[data-floor="3"] {\n  z-index: calc(10 + 3);\n  width: calc(250px - var(--flr-width-decrement) * 3);\n  background-color: hsl(96deg, 72%, 56%);\n  box-shadow: 0 3px 0 0 #59b41d, 0 6px 0 0 #59b41d, 0 9px 0 0 #59b41d, 0 12px 0 0 #59b41d, 0 15px 5px 0 hsla(0deg, 0%, 0%, 0.75);\n}\n.game-board .tower-inner li[data-floor="4"] {\n  z-index: calc(10 + 4);\n  width: calc(250px - var(--flr-width-decrement) * 4);\n  background-color: hsl(162deg, 72%, 56%);\n  box-shadow: 0 3px 0 0 #1db487, 0 6px 0 0 #1db487, 0 9px 0 0 #1db487, 0 12px 0 0 #1db487, 0 15px 5px 0 hsla(0deg, 0%, 0%, 0.75);\n}\n.game-board .tower-inner li[data-floor="5"] {\n  z-index: calc(10 + 5);\n  width: calc(250px - var(--flr-width-decrement) * 5);\n  background-color: hsl(219deg, 72%, 56%);\n  box-shadow: 0 3px 0 0 #1d52b4, 0 6px 0 0 #1d52b4, 0 9px 0 0 #1d52b4, 0 12px 0 0 #1d52b4, 0 15px 5px 0 hsla(0deg, 0%, 0%, 0.75);\n}\n.game-board .tower-inner li[data-floor="6"] {\n  z-index: calc(10 + 6);\n  width: calc(250px - var(--flr-width-decrement) * 6);\n  background-color: hsl(273deg, 72%, 56%);\n  box-shadow: 0 3px 0 0 #701db4, 0 6px 0 0 #701db4, 0 9px 0 0 #701db4, 0 12px 0 0 #701db4, 0 15px 5px 0 hsla(0deg, 0%, 0%, 0.75);\n}\n.game-board .tower-inner li[data-floor="7"] {\n  z-index: calc(10 + 7);\n  width: calc(250px - var(--flr-width-decrement) * 7);\n  background-color: hsl(315deg, 72%, 56%);\n  box-shadow: 0 3px 0 0 #b41d8e, 0 6px 0 0 #b41d8e, 0 9px 0 0 #b41d8e, 0 12px 0 0 #b41d8e, 0 15px 5px 0 hsla(0deg, 0%, 0%, 0.75);\n}\n.game-board .tower-inner li[data-floor="8"] {\n  z-index: calc(10 + 8);\n  width: calc(250px - var(--flr-width-decrement) * 8);\n  background-color: hsl(24deg, 72%, 56%);\n  box-shadow: 0 3px 0 0 #b4591d, 0 6px 0 0 #b4591d, 0 9px 0 0 #b4591d, 0 12px 0 0 #b4591d, 0 15px 5px 0 hsla(0deg, 0%, 0%, 0.75);\n}\n.game-board .tower-inner li.picked {\n  animation: pickedFloor 1s infinite;\n}\n\n@keyframes pickedFloor {\n  from {\n    background-color: hsl(0deg, 0%, 25%);\n    box-shadow: 0 3px 0 0 #1a1a1a, 0 6px 0 0 #1a1a1a, 0 9px 0 0 #1a1a1a, 0 12px 0 0 #1a1a1a, 0 15px 5px 0 hsla(0deg, 0%, 0%, 0.75);\n  }\n  to {\n    background-color: hsl(0deg, 0%, 75%);\n    box-shadow: 0 3px 0 0 #999999, 0 6px 0 0 #999999, 0 9px 0 0 #999999, 0 12px 0 0 #999999, 0 15px 5px 0 hsla(0deg, 0%, 0%, 0.75);\n  }\n}\n.alert {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  translate: -50% -50%;\n  display: flex;\n  flex-direction: column;\n  gap: 0.875rem;\n  padding: 1.25rem 1rem 0.875rem;\n  width: 350px;\n  background: radial-gradient(ellipse at top, hsl(214deg, 47%, 23%), hsl(237deg, 49%, 15%));\n  border: 2px solid hsl(0deg, 0%, 90%);\n  border-radius: 5px;\n  z-index: 999;\n}\n.alert .alert_body {\n  display: block;\n  width: 100%;\n  text-align: center;\n}\n.alert .alert_close {\n  align-self: flex-end;\n  padding: 0.25rem 1rem;\n  background-color: transparent;\n  border: 2px solid hsl(0deg, 0%, 90%);\n  border-radius: 5px;\n  color: hsl(0deg, 0%, 90%);\n  font-size: 0.825rem;\n  cursor: pointer;\n}\n\n.rules-overlay {\n  position: absolute;\n  top: 0;\n  left: 0;\n  display: grid;\n  place-items: center;\n  width: 100%;\n  height: 100%;\n  background-color: hsla(0deg, 0%, 0%, 0.5);\n  z-index: 9999;\n  opacity: 0;\n  visibility: hidden;\n}\n.rules-overlay .rules-inner {\n  padding: 1rem 1.5rem;\n  background: radial-gradient(ellipse at top, hsl(214deg, 47%, 23%), hsl(237deg, 49%, 15%));\n  border: 2px solid hsl(0deg, 0%, 90%);\n  border-radius: 5px;\n  opacity: 0;\n  visibility: hidden;\n}\n.rules-overlay .rules-inner > div {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n}\n.rules-overlay .rules-inner button {\n  background-color: transparent;\n  border: none;\n  cursor: pointer;\n}\n.rules-overlay .rules-inner button > svg {\n  width: 15px;\n  fill: hsl(0deg, 0%, 90%);\n  pointer-events: none;\n}\n.rules-overlay .rules-inner h2 {\n  font-size: 2.25rem;\n}\n.rules-overlay .rules-inner ol {\n  padding: 0 1.25rem;\n}\n.rules-overlay .rules-inner ol li {\n  margin-bottom: 0.825rem;\n  font-size: 1.125rem;\n}\n.rules-overlay.show {\n  opacity: 1;\n  visibility: visible;\n  transition: all 0.4s ease;\n}\n.rules-overlay.show .rules-inner {\n  opacity: 1;\n  visibility: visible;\n  transition: all 0.4s ease 0.4s;\n}\n\nbody {\n  display: grid;\n  place-items: center;\n  width: 100%;\n  height: 100vh;\n  background: radial-gradient(ellipse at top, hsl(214deg, 47%, 23%), hsl(237deg, 49%, 15%));\n}\n\nmain {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: min(1000px, 85%);\n  height: min(600px, 85%);\n  color: hsl(0deg, 0%, 90%);\n  font-family: "Barlow Semi Condensed", sans-serif;\n}\n',""]);const a=s},645:n=>{n.exports=function(n){var e=[];return e.toString=function(){return this.map((function(e){var t="",o=void 0!==e[5];return e[4]&&(t+="@supports (".concat(e[4],") {")),e[2]&&(t+="@media ".concat(e[2]," {")),o&&(t+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),t+=n(e),o&&(t+="}"),e[2]&&(t+="}"),e[4]&&(t+="}"),t})).join("")},e.i=function(n,t,o,r,i){"string"==typeof n&&(n=[[null,n,void 0]]);var s={};if(o)for(var a=0;a<this.length;a++){var l=this[a][0];null!=l&&(s[l]=!0)}for(var d=0;d<n.length;d++){var c=[].concat(n[d]);o&&s[c[0]]||(void 0!==i&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=i),t&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=t):c[2]=t),r&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=r):c[4]="".concat(r)),e.push(c))}},e}},213:n=>{n.exports=function(n){return n[1]}},379:n=>{var e=[];function t(n){for(var t=-1,o=0;o<e.length;o++)if(e[o].identifier===n){t=o;break}return t}function o(n,o){for(var i={},s=[],a=0;a<n.length;a++){var l=n[a],d=o.base?l[0]+o.base:l[0],c=i[d]||0,p="".concat(d," ").concat(c);i[d]=c+1;var h=t(p),u={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==h)e[h].references++,e[h].updater(u);else{var g=r(u,o);o.byIndex=a,e.splice(a,0,{identifier:p,updater:g,references:1})}s.push(p)}return s}function r(n,e){var t=e.domAPI(e);return t.update(n),function(e){if(e){if(e.css===n.css&&e.media===n.media&&e.sourceMap===n.sourceMap&&e.supports===n.supports&&e.layer===n.layer)return;t.update(n=e)}else t.remove()}}n.exports=function(n,r){var i=o(n=n||[],r=r||{});return function(n){n=n||[];for(var s=0;s<i.length;s++){var a=t(i[s]);e[a].references--}for(var l=o(n,r),d=0;d<i.length;d++){var c=t(i[d]);0===e[c].references&&(e[c].updater(),e.splice(c,1))}i=l}}},569:n=>{var e={};n.exports=function(n,t){var o=function(n){if(void 0===e[n]){var t=document.querySelector(n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(n){t=null}e[n]=t}return e[n]}(n);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(t)}},216:n=>{n.exports=function(n){var e=document.createElement("style");return n.setAttributes(e,n.attributes),n.insert(e,n.options),e}},565:(n,e,t)=>{n.exports=function(n){var e=t.nc;e&&n.setAttribute("nonce",e)}},795:n=>{n.exports=function(n){var e=n.insertStyleElement(n);return{update:function(t){!function(n,e,t){var o="";t.supports&&(o+="@supports (".concat(t.supports,") {")),t.media&&(o+="@media ".concat(t.media," {"));var r=void 0!==t.layer;r&&(o+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),o+=t.css,r&&(o+="}"),t.media&&(o+="}"),t.supports&&(o+="}");var i=t.sourceMap;i&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleTagTransform(o,n,e.options)}(e,n,t)},remove:function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(e)}}}},589:n=>{n.exports=function(n,e){if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}}},e={};function t(o){var r=e[o];if(void 0!==r)return r.exports;var i=e[o]={id:o,exports:{}};return n[o](i,i.exports,t),i.exports}t.n=n=>{var e=n&&n.__esModule?()=>n.default:()=>n;return t.d(e,{a:e}),e},t.d=(n,e)=>{for(var o in e)t.o(e,o)&&!t.o(n,o)&&Object.defineProperty(n,o,{enumerable:!0,get:e[o]})},t.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),t.nc=void 0,(()=>{var n=t(379),e=t.n(n),o=t(795),r=t.n(o),i=t(569),s=t.n(i),a=t(565),l=t.n(a),d=t(216),c=t.n(d),p=t(589),h=t.n(p),u=t(756),g={};g.styleTagTransform=h(),g.setAttributes=l(),g.insert=s().bind(null,"head"),g.domAPI=r(),g.insertStyleElement=c(),e()(u.Z,g),u.Z&&u.Z.locals&&u.Z.locals;class m{constructor(n,e){this.towerElements=n.querySelectorAll(".tower-inner"),this.floorSettings=e.querySelector("#inp_floorcount"),this.floorInput=e.querySelector("#inp_floorcount > input[type=number]"),this.resetGame=e.querySelector("#btn_reset"),this.solveGame=e.querySelector("#btn_solve"),this.bindFunctions(),this.initGame()}bindFunctions(){this.initGameFunction=this.initGame.bind(this),this.towerClickHandlerFunction=this.towerClickHandler.bind(this),this.floorSettingsHandlerFunction=this.floorSettingsHandler.bind(this),this.solveGameHandlerFunction=this.solveGameHandler.bind(this)}initGame(){this.floorCount=this.floorInput.value,this.pickedTower=null,this.moves=0,this.moveHistory=[],this.initTowers(),this.initSettings(),this.drawFloors(),this.showMoveCount()}initTowers(){this.towers=[[],[],[]];for(let n=1;n<=this.floorCount;n++)this.towers[0].push(n);this.towerElements.forEach((n=>{n.addEventListener("click",this.towerClickHandlerFunction)}))}towerClickHandler(n){const e=n.currentTarget.dataset.tower;if(!this.pickedTower)return!this.isTowerEmpty(this.towers[e])&&(this.pickedTower=e,this.showPickedFloor(!0),!0);this.showPickedFloor(!1);const t=this.validateMove(this.pickedTower,e);if(!t)return void 0!==t&&this.displayAlert("Invalid move"),this.pickedTower=null,!1;this.executeFloorMove(this.pickedTower,e),this.isSolved()&&this.displayAlert(`YOU MANAGE TO COMPLETE ${this.floorCount} floors of tower of hanoi in just ${this.moves} moves`)}executeFloorMove(n,e){n=parseInt(n),e=parseInt(e),this.towers[e].push(this.towers[n].pop()),this.moves+=1,this.moveHistory.push([n,e]),this.drawFloors(),this.showMoveCount(),this.pickedTower=null}validateMove(n,e){if(n===e)return;const t=this.getTopFloorValue(this.towers[n]),o=this.getTopFloorValue(this.towers[e]);return!(this.isTowerEmpty(this.towers[n])||t<o)}isSolved(){return this.isTowerEmpty(this.towers[0])&&this.isTowerEmpty(this.towers[1])&&this.towers[2].length==this.floorCount}isTowerEmpty(n){return!n.length}getTopFloorValue(n){return this.isTowerEmpty(n)?void 0:n[n.length-1]}initSettings(){this.floorSettings.addEventListener("click",this.floorSettingsHandlerFunction),this.resetGame.addEventListener("click",this.initGameFunction),this.solveGame.addEventListener("click",this.solveGameHandlerFunction)}floorSettingsHandler(n){if("btn_floorIncrement"==n.target.id)this.floorInput.stepUp();else{if("btn_floorDecrement"!=n.target.id)return;this.floorInput.stepDown()}this.initGameFunction()}disableGame(){this.towerElements.forEach((n=>{n.removeEventListener("click",this.towerClickHandlerFunction)})),this.floorSettings.removeEventListener("click",this.floorSettingsHandlerFunction),this.resetGame.removeEventListener("click",this.initGameFunction),this.solveGame.removeEventListener("click",this.solveGameHandlerFunction)}drawFloors(){this.towerElements.forEach(((n,e)=>{for(;n.lastChild;)n.removeChild(n.lastChild);this.towers[e].map((e=>{let t=document.createElement("li");t.setAttribute("data-floor",e),n.append(t)}))}))}showPickedFloor(n){const e=this.towerElements[this.pickedTower].lastChild;n?e.classList.add("picked"):e.classList.remove("picked")}showMoveCount(){document.querySelector("#moveCount").innerHTML=this.moves}displayAlert(n){this.disableGame();const e=document.createElement("div");e.className="alert",e.innerHTML=`\n            <h3 class="alert_body">${n}</h3>\n            <button class="alert_close">close</button>\n        `,e.querySelector(".alert_close").addEventListener("click",(n=>{e.remove(),this.initSettings()})),document.querySelector("main").append(e)}solveGameHandler(){this.disableGame(),this.solve(this.floorCount,0,1,2).then((()=>this.displayAlert("Auto solve complete!")))}async solve(n,e,t,o){return 1===n?await this.executeFloorMoveByAI(e,o,500):(await this.solve(n-1,e,o,t),await this.solve(1,e,t,o),await this.solve(n-1,t,e,o)),this.isSolved()}async executeFloorMoveByAI(n,e,t){const o=new Promise((n=>setTimeout(n,t)));if(await o,this.validateMove(n,e)){const t=this.towers[n].pop();this.towers[e].push(t),console.log(`Move Floor ${t} from Tower[${this.getTowerName(n)}] to Tower[${this.getTowerName(e)}]`)}this.drawFloors()}getTowerName(n){return 0==n?"A":1==n?"B":"C"}}document.addEventListener("DOMContentLoaded",(()=>{document.querySelector("#btn_settings").addEventListener("click",(n=>{n.currentTarget.classList.toggle("active")})),document.querySelector("#btn_showRules").addEventListener("click",(()=>{document.querySelector(".rules-overlay").classList.add("show")})),document.querySelector("#btn_closeRules").addEventListener("click",(()=>{document.querySelector(".rules-overlay").classList.remove("show")}));const n=document.querySelector("#gameBoard"),e=document.querySelector("#settings");new m(n,e)}))})()})();